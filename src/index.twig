<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1, width=device-width">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<link rel="manifest" href="manifest.json">
<link rel="icon" type="image/png" sizes="128x128" href="icon-128x128.png">
<meta name="theme-color" content="{{ manifest_themecolor }}">
<link rel="stylesheet" href="vlp-styles.css">
<title>{{ appfulltitle }}</title>
</head>
<body>
{% apply spaceless %}
<header>
	<div class="menu-selector" id="id_AppPageMenuBtn"><i class="fvricon fvricon-menu" style="font-size:24px; margin-top:2px;"></i></div>
	<div class="menu-selector" id="id_AppPageTitle"><span>{{ apptitle }}</span><span>Map</span></div>
</header>
<div class="main-content active" id="id-mainmap">
	<div id="image-map"></div>
</div>

{% for pg in info %}
<div class="main-content info-page" id="idmarkdown-{{ pg.id }}">
	<div class="markdown-page">
		{{ pg.html|raw }}
	</div>
</div>
{% endfor %}

<div id="vlp-modal"><div id="vlp-modal-content">
	<div id="vlp-modal-header">
		<span id="vlp-modal-title"></span>
		<span id="vlp-modal-close">&times;</span>
	</div>
	<div id="vlp-modal-body"></div>
</div></div>

<div id="win-mainmenu" style="display:none;z-index:99999;">
	<nav id="mainmenu" class="lsmenu">
		<a href="/#!map">Park Map</a>
		<hr>
		{% for pg in info %}
			<a href="/#!show-{{ pg.id }}">{{ pg.title|e('html') }}</a>
		{% endfor %}
	</nav>
</div>

<div style="display:none" id="whatsnew"><ul>
	{% for txt in whatsnew %}
		<li>{{ txt[0] }}: {{ txt[1]|raw }}</li>
	{% endfor %}
</ul></div>

<script async src="vlp.js"></script>
<script>
if ('serviceWorker' in navigator) {
	window.addEventListener('load', () => { navigator.serviceWorker.register('./sw.js'); });
}
</script>
</body>
{% endapply %}
</html>
